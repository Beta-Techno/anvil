---
# Legacy Ubuntu bootstrap via Ansible (run locally)
- hosts: localhost
  gather_facts: true
  become: false
  environment:
    DEBIAN_FRONTEND: noninteractive
  vars:
    ansible_python_interpreter: /usr/bin/python3
  roles:
    - { role: base, tags: [base, essential], become: true }
    - { role: security, tags: [security, essential, server], become: true }
    - { role: observability, tags: [observability, essential, server], become: true }
    - { role: wazuh, tags: [wazuh, server], become: true }
    - { role: drivers, tags: [drivers, essential], become: true }
    - { role: docker, tags: [docker, server, essential], become: true }
    - { role: tailscale, tags: [tailscale, server], become: true }
    - { role: git_ssh, tags: [git, essential] }
    - { role: dev_tools, tags: [dev_tools, essential], become: true }
    - { role: chezmoi_install, tags: [chezmoi_install, essential] }
    - { role: chezmoi_apply, tags: [chezmoi_apply, essential] }
    - { role: langs, tags: [langs, essential] }
    - { role: ai_agents, tags: [ai_agents, essential] }
    - { role: lazyvim, tags: [lazyvim] }
    - { role: cloudflared, tags: [cloudflared], become: true }
    - { role: nginx, tags: [nginx], become: true }
    - { role: flatpak_snap, tags: [flatpak_snap, workstation], become: true }
    - { role: fonts, tags: [fonts, workstation] }
    - { role: terminals, tags: [terminals, workstation], become: true }
    - { role: chrome, tags: [chrome, workstation], become: true }
    - { role: zed, tags: [zed, workstation] }
    - { role: cursor, tags: [cursor, workstation] }
    - { role: ghostty, tags: [ghostty, workstation], become: true }
    - { role: jetbrains_toolbox, tags: [toolbox, workstation] }
    - { role: docker_desktop, tags: [docker_desktop, workstation], become: true }
    - { role: nomachine, tags: [nomachine, workstation], become: true }
    - { role: terminal_extras, tags: [terminal_extras, workstation], become: true }
    - { role: activitywatch, tags: [activitywatch, workstation] }
    - { role: flatpak_apps, tags: [flatpak_apps, workstation], become: true }
    - { role: snap_apps, tags: [snap_apps, workstation], become: true }
    - { role: cleanup, tags: [cleanup], become: true }
